{"ast":null,"code":"import { useCallback, useRef, useState } from 'react';\nimport useDebouncedCallback from './useDebouncedCallback';\n\nfunction valueEquality(left, right) {\n  return left === right;\n}\n\nfunction adjustFunctionValueOfSetState(value) {\n  return typeof value === 'function' ? function () {\n    return value;\n  } : value;\n}\n\nfunction useStateIgnoreCallback(initialState) {\n  var _a = useState(adjustFunctionValueOfSetState(initialState)),\n      state = _a[0],\n      setState = _a[1];\n\n  var setStateIgnoreCallback = useCallback(function (value) {\n    return setState(adjustFunctionValueOfSetState(value));\n  }, []);\n  return [state, setStateIgnoreCallback];\n}\n\nexport default function useDebounce(value, delay, options) {\n  var eq = options && options.equalityFn || valueEquality;\n\n  var _a = useStateIgnoreCallback(value),\n      state = _a[0],\n      dispatch = _a[1];\n\n  var debounced = useDebouncedCallback(useCallback(function (value) {\n    return dispatch(value);\n  }, [dispatch]), delay, options);\n  var previousValue = useRef(value);\n\n  if (!eq(previousValue.current, value)) {\n    debounced(value);\n    previousValue.current = value;\n  }\n\n  return [state, {\n    cancel: debounced.cancel,\n    isPending: debounced.isPending,\n    flush: debounced.flush\n  }];\n}","map":{"version":3,"sources":["/Users/christophervouga/Documents/projects/fake-id/node_modules/use-debounce/esm/useDebounce.js"],"names":["useCallback","useRef","useState","useDebouncedCallback","valueEquality","left","right","adjustFunctionValueOfSetState","value","useStateIgnoreCallback","initialState","_a","state","setState","setStateIgnoreCallback","useDebounce","delay","options","eq","equalityFn","dispatch","debounced","previousValue","current","cancel","isPending","flush"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,MAAtB,EAA8BC,QAA9B,QAA8C,OAA9C;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;;AACA,SAASC,aAAT,CAAuBC,IAAvB,EAA6BC,KAA7B,EAAoC;AAChC,SAAOD,IAAI,KAAKC,KAAhB;AACH;;AACD,SAASC,6BAAT,CAAuCC,KAAvC,EAA8C;AAC1C,SAAO,OAAOA,KAAP,KAAiB,UAAjB,GAA8B,YAAY;AAAE,WAAOA,KAAP;AAAe,GAA3D,GAA8DA,KAArE;AACH;;AACD,SAASC,sBAAT,CAAgCC,YAAhC,EAA8C;AAC1C,MAAIC,EAAE,GAAGT,QAAQ,CAACK,6BAA6B,CAACG,YAAD,CAA9B,CAAjB;AAAA,MAAgEE,KAAK,GAAGD,EAAE,CAAC,CAAD,CAA1E;AAAA,MAA+EE,QAAQ,GAAGF,EAAE,CAAC,CAAD,CAA5F;;AACA,MAAIG,sBAAsB,GAAGd,WAAW,CAAC,UAAUQ,KAAV,EAAiB;AAAE,WAAOK,QAAQ,CAACN,6BAA6B,CAACC,KAAD,CAA9B,CAAf;AAAwD,GAA5E,EAA8E,EAA9E,CAAxC;AACA,SAAO,CAACI,KAAD,EAAQE,sBAAR,CAAP;AACH;;AACD,eAAe,SAASC,WAAT,CAAqBP,KAArB,EAA4BQ,KAA5B,EAAmCC,OAAnC,EAA4C;AACvD,MAAIC,EAAE,GAAID,OAAO,IAAIA,OAAO,CAACE,UAApB,IAAmCf,aAA5C;;AACA,MAAIO,EAAE,GAAGF,sBAAsB,CAACD,KAAD,CAA/B;AAAA,MAAwCI,KAAK,GAAGD,EAAE,CAAC,CAAD,CAAlD;AAAA,MAAuDS,QAAQ,GAAGT,EAAE,CAAC,CAAD,CAApE;;AACA,MAAIU,SAAS,GAAGlB,oBAAoB,CAACH,WAAW,CAAC,UAAUQ,KAAV,EAAiB;AAAE,WAAOY,QAAQ,CAACZ,KAAD,CAAf;AAAyB,GAA7C,EAA+C,CAACY,QAAD,CAA/C,CAAZ,EAAwEJ,KAAxE,EAA+EC,OAA/E,CAApC;AACA,MAAIK,aAAa,GAAGrB,MAAM,CAACO,KAAD,CAA1B;;AACA,MAAI,CAACU,EAAE,CAACI,aAAa,CAACC,OAAf,EAAwBf,KAAxB,CAAP,EAAuC;AACnCa,IAAAA,SAAS,CAACb,KAAD,CAAT;AACAc,IAAAA,aAAa,CAACC,OAAd,GAAwBf,KAAxB;AACH;;AACD,SAAO,CAACI,KAAD,EAAQ;AAAEY,IAAAA,MAAM,EAAEH,SAAS,CAACG,MAApB;AAA4BC,IAAAA,SAAS,EAAEJ,SAAS,CAACI,SAAjD;AAA4DC,IAAAA,KAAK,EAAEL,SAAS,CAACK;AAA7E,GAAR,CAAP;AACH","sourcesContent":["import { useCallback, useRef, useState } from 'react';\nimport useDebouncedCallback from './useDebouncedCallback';\nfunction valueEquality(left, right) {\n    return left === right;\n}\nfunction adjustFunctionValueOfSetState(value) {\n    return typeof value === 'function' ? function () { return value; } : value;\n}\nfunction useStateIgnoreCallback(initialState) {\n    var _a = useState(adjustFunctionValueOfSetState(initialState)), state = _a[0], setState = _a[1];\n    var setStateIgnoreCallback = useCallback(function (value) { return setState(adjustFunctionValueOfSetState(value)); }, []);\n    return [state, setStateIgnoreCallback];\n}\nexport default function useDebounce(value, delay, options) {\n    var eq = (options && options.equalityFn) || valueEquality;\n    var _a = useStateIgnoreCallback(value), state = _a[0], dispatch = _a[1];\n    var debounced = useDebouncedCallback(useCallback(function (value) { return dispatch(value); }, [dispatch]), delay, options);\n    var previousValue = useRef(value);\n    if (!eq(previousValue.current, value)) {\n        debounced(value);\n        previousValue.current = value;\n    }\n    return [state, { cancel: debounced.cancel, isPending: debounced.isPending, flush: debounced.flush }];\n}\n"]},"metadata":{},"sourceType":"module"}