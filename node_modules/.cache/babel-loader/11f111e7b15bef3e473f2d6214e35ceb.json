{"ast":null,"code":"import _objectSpread from\"/Users/christophervouga/Documents/projects/fake-id/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/christophervouga/Documents/projects/fake-id/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/christophervouga/Documents/projects/fake-id/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/christophervouga/Documents/projects/fake-id/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import UploadIcon from\"@mui/icons-material/Upload\";import{LoadingButton}from\"@mui/lab\";import{Avatar,Box}from\"@mui/material\";import React,{useCallback,useState}from\"react\";import{useDropzone}from\"react-dropzone\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ProfilePictureForm=function ProfilePictureForm(_ref){var profilePictureUrl=_ref.profilePictureUrl,onUpdate=_ref.onUpdate;var _useState=useState(\"idle\"),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var onDrop=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(acceptedFiles){var _acceptedFiles,profilePictureFile;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_acceptedFiles=_slicedToArray(acceptedFiles,1),profilePictureFile=_acceptedFiles[0];if(!profilePictureFile){_context.next=6;break;}setState(\"loading\");_context.next=5;return onUpdate({profilePictureFile:profilePictureFile});case 5:setState(\"idle\");case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}(),[onUpdate]);var _useDropzone=useDropzone({onDrop:onDrop}),getRootProps=_useDropzone.getRootProps,getInputProps=_useDropzone.getInputProps;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Box,{sx:{marginBottom:4,display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(Avatar,{sx:{width:\"132px\",height:\"132px\",marginBottom:1},variant:\"rounded\",src:profilePictureUrl}),/*#__PURE__*/_jsx(LoadingButton,{fullWidth:false,startIcon:/*#__PURE__*/_jsx(UploadIcon,{}),variant:\"outlined\",loading:state===\"loading\",children:\"Upload\"})]}))})});};","map":{"version":3,"sources":["/Users/christophervouga/Documents/projects/fake-id/src/pages/ProfilePictureForm.tsx"],"names":["UploadIcon","LoadingButton","Avatar","Box","React","useCallback","useState","useDropzone","ProfilePictureForm","profilePictureUrl","onUpdate","state","setState","onDrop","acceptedFiles","profilePictureFile","getRootProps","getInputProps","marginBottom","display","flexDirection","alignItems","width","height"],"mappings":"gqBAAA,MAAOA,CAAAA,UAAP,KAAuB,4BAAvB,CACA,OAASC,aAAT,KAA8B,UAA9B,CACA,OAASC,MAAT,CAAiBC,GAAjB,KAA4B,eAA5B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,QAA7B,KAA6C,OAA7C,CACA,OAASC,WAAT,KAA4B,gBAA5B,C,6IAEA,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,MAM5B,IALJC,CAAAA,iBAKI,MALJA,iBAKI,CAJJC,QAII,MAJJA,QAII,CACJ,cAA0BJ,QAAQ,CAAqB,MAArB,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,MAAM,CAAGR,WAAW,2FACxB,iBAAOS,aAAP,sLAC+BA,aAD/B,IACSC,kBADT,uBAEMA,kBAFN,yBAGIH,QAAQ,CAAC,SAAD,CAAR,CAHJ,sBAIUF,CAAAA,QAAQ,CAAC,CAAEK,kBAAkB,CAAlBA,kBAAF,CAAD,CAJlB,QAKIH,QAAQ,CAAC,MAAD,CAAR,CALJ,sDADwB,gEASxB,CAACF,QAAD,CATwB,CAA1B,CAYA,iBAAwCH,WAAW,CAAC,CAClDM,MAAM,CAANA,MADkD,CAAD,CAAnD,CAAQG,YAAR,cAAQA,YAAR,CAAsBC,aAAtB,cAAsBA,aAAtB,CAIA,mBACE,sCACE,KAAC,GAAD,EACE,EAAE,CAAE,CACFC,YAAY,CAAE,CADZ,CAEFC,OAAO,CAAE,MAFP,CAGFC,aAAa,CAAE,QAHb,CAIFC,UAAU,CAAE,QAJV,CADN,uBAQE,2CAASL,YAAY,EAArB,6BACE,8BAAWC,aAAa,EAAxB,EADF,cAEE,KAAC,MAAD,EACE,EAAE,CAAE,CACFK,KAAK,CAAE,OADL,CAEFC,MAAM,CAAE,OAFN,CAGFL,YAAY,CAAE,CAHZ,CADN,CAME,OAAO,CAAC,SANV,CAOE,GAAG,CAAET,iBAPP,EAFF,cAWE,KAAC,aAAD,EACE,SAAS,CAAE,KADb,CAEE,SAAS,cAAE,KAAC,UAAD,IAFb,CAGE,OAAO,CAAC,UAHV,CAIE,OAAO,CAAEE,KAAK,GAAK,SAJrB,oBAXF,IARF,EADF,EADF,CAiCD,CA1DM","sourcesContent":["import UploadIcon from \"@mui/icons-material/Upload\";\nimport { LoadingButton } from \"@mui/lab\";\nimport { Avatar, Box } from \"@mui/material\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\n\nexport const ProfilePictureForm = ({\n  profilePictureUrl,\n  onUpdate,\n}: {\n  profilePictureUrl?: string;\n  onUpdate: ({ profilePictureFile }: { profilePictureFile: File }) => void;\n}) => {\n  const [state, setState] = useState<\"idle\" | \"loading\">(\"idle\");\n\n  const onDrop = useCallback(\n    async (acceptedFiles) => {\n      const [profilePictureFile] = acceptedFiles;\n      if (profilePictureFile) {\n        setState(\"loading\");\n        await onUpdate({ profilePictureFile });\n        setState(\"idle\");\n      }\n    },\n    [onUpdate]\n  );\n\n  const { getRootProps, getInputProps } = useDropzone({\n    onDrop,\n  });\n\n  return (\n    <>\n      <Box\n        sx={{\n          marginBottom: 4,\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        <div {...getRootProps()}>\n          <input {...getInputProps()} />\n          <Avatar\n            sx={{\n              width: \"132px\",\n              height: \"132px\",\n              marginBottom: 1,\n            }}\n            variant=\"rounded\"\n            src={profilePictureUrl}\n          />\n          <LoadingButton\n            fullWidth={false}\n            startIcon={<UploadIcon />}\n            variant=\"outlined\"\n            loading={state === \"loading\"}\n          >\n            Upload\n          </LoadingButton>\n        </div>\n      </Box>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}